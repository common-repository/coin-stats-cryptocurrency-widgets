"use strict";var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};(function(){var colors={};var config={attributes:true};function getData(coinId,callback){fetch("https://api.coin-stats.com/v2/insights/"+coinId).then(function(res){return res.json()}).then(function(res){return callback(res)})}function createWidget(placeHolder){var coinId=placeHolder.getAttribute("coin-id");getData(coinId,function(data){var insightType=placeHolder.getAttribute("type");var textColor=placeHolder.getAttribute("text-color");var backgroundColor=placeHolder.getAttribute("bg-color");var chartPrimaryColor=placeHolder.getAttribute("chart-primary-color");var buttonColor=placeHolder.getAttribute("button-color");var disableCredits=placeHolder.getAttribute("disable-credits");var chartSecondaryColor=placeHolder.getAttribute("chart-secondary-color");var borderColor=placeHolder.getAttribute("border-color");var font=placeHolder.getAttribute("font")||"Roboto, Arial, Helvetica";colors={text:textColor,background:backgroundColor,chartPrimary:chartPrimaryColor,chartSecondary:chartSecondaryColor,button:buttonColor,border:borderColor};var widgetContainer=document.createElement("div");widgetContainer.style.cssText="\n          background-color: "+colors.background+";\n          border-radius: 29px;\n          border: solid 1px "+borderColor+";\n        ";var inisghtData=null;var i=0;for(;i<data.length;i++){if(data[i].type===insightType){inisghtData=data[i];break}}var id=Math.random().toString(7);widgetContainer.appendChild(createTitle(inisghtData.title));var dataContainer=createDataContainer();dataContainer.appendChild(createPieChartContainer(id));var showChartContainer=createShowChartContainer(inisghtData.percents);var showChartButton=createAnchorTag(inisghtData.coinId,i);showChartContainer.appendChild(showChartButton);dataContainer.appendChild(showChartContainer);widgetContainer.appendChild(dataContainer);var tempContainer=document.createElement("div");var containerWrapper=document.createElement("div");containerWrapper.style.cssText="\n            max-width: 332px;\n            color: "+colors.text+";\n            font-family: "+font+", sans-serif;\n          ";containerWrapper.appendChild(widgetContainer);if(!disableCredits){containerWrapper.appendChild(createCredits(colors.text))}tempContainer.appendChild(containerWrapper);placeHolder.innerHTML=tempContainer.innerHTML;createPieChart(id,colors,inisghtData.percent||inisghtData.percents)})}function createTitle(text){var h1=document.createElement("h1");h1.style.cssText="\n      font-size: 14px;\n      font-weight: normal;\n      font-style: normal;\n      font-stretch: normal;\n      line-height: normal;\n      letter-spacing: normal;\n      text-align: center;\n      padding: 20px 30px;\n      margin: 0;\n    ";var title=document.createTextNode(text);h1.appendChild(title);return h1}function createPieChartScript(callback){if(document.querySelector("script[src = 'https://static.coinstats.app/widgets/chart.js']")){callback();return}var script=document.createElement("script");script.src="https://static.coinstats.app/widgets/chart.js";if(document.getElementsByTagName("head").length){document.getElementsByTagName("head")[0].appendChild(script)}script.onload=function(){callback()}}function createPieChartContainer(id){var chartContainer=document.createElement("div");chartContainer.setAttribute("id",id);return chartContainer}function createDataContainer(){var dataContainer=document.createElement("div");dataContainer.style.cssText="\n      display: flex;\n      align-items: center;\n    ";return dataContainer}function createCredits(textColor){var credits=document.createElement("div");var anchor=document.createElement("a");anchor.href="http://coinstats.app";anchor.target="_blank";anchor.innerHTML='Powered by <span style="letter-spacing: 0.25px;font-size: 14px; vertical-align: unset;">Coin<b style="vertical-align: unset;">Stats</b></span>';anchor.style.cssText="\n        font-size: 12px;\n        font-weight: 300;\n        text-decoration: none;\n        color: "+textColor+";\n        vertical-align: unset;\n      ";credits.style.cssText="\n        padding-top: 10px;\n        padding-left: 34px;\n        vertical-align: unset;\n      ";credits.appendChild(anchor);return credits}function createShowChartContainer(data){var showChartContainer=document.createElement("div");showChartContainer.style.cssText="\n    align-items: center;\n    display: flex;\n    flex-direction: column;\n    ";if(data){var ul=document.createElement("ul");ul.style.cssText="\n      padding-left: 0px;\n      padding-bottom: 24px;\n      margin: 0px;\n      list-style: none; \n      ";data.forEach(function(element,index){var li=document.createElement("li");var point=document.createElement("div");li.style.cssText="\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          margin-top: 5px;\n          font-size: 14px;\n          font-weight: normal;\n          font-style: normal;\n          font-stretch: normal;\n          line-height: normal;\n        ";point.style.cssText="\n          width: 10px;\n          height: 10px;\n          background-color: "+(index===0?colors.chartPrimary:colors.chartSecondary)+"; \n          border-radius: 100%;\n          margin-right: 10px;\n        ";var span=document.createElement("span");span.appendChild(document.createTextNode(element.percent.toFixed(1)+"%"));span.style.cssText="\n        font-size: 14px;\n        font-weight: bold;\n        font-style: normal;\n        font-stretch: normal;\n        line-height: normal;\n        letter-spacing: -0.34px;";var div=document.createElement("div");div.style.cssText="\n          display: flex;\n          align-items: center;\n          padding-right: 20px;\n        ";div.appendChild(point);div.appendChild(document.createTextNode(element.text));li.appendChild(div);li.appendChild(span);ul.appendChild(li)});showChartContainer.appendChild(ul)}return showChartContainer}var createAnchorTag=function createAnchorTag(coinId,index){var anchor=document.createElement("a");anchor.href="https://coinstats.app/en/coins/"+coinId+"?showInsight="+index;anchor.target="_blank";anchor.innerText="Show Chart";anchor.style.cssText="\n    font-size: 14px;\n    font-weight: bold;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: normal;\n    letter-spacing: 0.54px;\n    text-align: center;\n    color: "+colors.button+";\n    text-decoration: none;\n    ";return anchor};function createPieChart(id,colors,insights){var seriesData=[];var title="";if((typeof insights==="undefined"?"undefined":_typeof(insights))!=="object"){title=insights.toFixed(1);seriesData.push({y:insights,color:colors.chartPrimary},{color:colors.chartSecondary,y:100-insights})}else{title=insights[0].percent.toFixed(1);seriesData.push({y:insights[0].percent,color:colors.chartPrimary},{color:colors.chartSecondary,y:insights[1].percent})}window.Highcharts.chart(id,{chart:{height:160,width:160,animation:true,backgroundColor:"transparent",type:"pie"},plotOptions:{series:{dataLabels:{enabled:false}},pie:{borderWidth:3,borderColor:colors.background}},title:{text:title+"%",align:"center",verticalAlign:"middle",y:17,style:{color:colors.text,fontSize:"20px",fontWeight:"bold"}},tooltip:{headerFormat:"",pointFormat:"<b>{point.percentage:.1f}%</b>"},credits:{enabled:false},series:[{innerSize:"60%",data:seriesData}]})}function ready(callbackFunc){if(document.readyState!=="loading"){callbackFunc()}else if(document.addEventListener){document.addEventListener("DOMContentLoaded",callbackFunc)}else{document.attachEvent("onreadystatechange",function(){if(document.readyState==="complete"){callbackFunc()}})}}function initAll(){var allPlaceHolders=document.querySelectorAll("coin-stats-insight-widget");allPlaceHolders.forEach(function(node){createWidget(node)})}function observeMutations(){var nodes=document.querySelectorAll("coin-stats-insight-widget");var observer=new MutationObserver(callback);nodes.forEach(function(node){var disable=node.getAttribute("disable-mutation-observer");if(!disable){observer.observe(node,config)}});function callback(MutationRecord){createWidget(MutationRecord[0].target)}}ready(function(){createPieChartScript(initAll);observeMutations()})})();